<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1on1 미팅 분석 서비스</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.0.0/fonts/remixicon.css" rel="stylesheet">
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center">
                    <i class="ri-mic-2-fill text-indigo-600 text-2xl mr-3"></i>
                    <h1 class="text-xl font-bold text-gray-900">1on1 Meeting AI</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="text-gray-500 hover:text-gray-700 transition-colors">
                        <i class="ri-settings-3-line text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Upload Section -->
        <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-3">AI 미팅 분석을 시작하세요</h2>
                <p class="text-gray-600">녹음 파일을 업로드하거나 실시간으로 녹음하여 AI 분석을 받아보세요</p>
            </div>

            <!-- Meeting Type Selection -->
            <div class="mb-8">
                <h3 class="text-lg font-semibold text-gray-700 mb-4 text-center">회의 유형 선택</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <button class="meeting-type-btn active-type px-6 py-3 border-2 rounded-lg text-center transition-all" data-type="1on1">
                        <i class="ri-user-3-line text-2xl mb-1 block"></i>
                        <span class="font-medium">1on1 미팅</span>
                        <p class="text-xs text-gray-500 mt-1">개인 면담 및 피드백</p>
                    </button>
                    <button class="meeting-type-btn px-6 py-3 border-2 rounded-lg text-center transition-all" data-type="general">
                        <i class="ri-team-line text-2xl mb-1 block"></i>
                        <span class="font-medium">일반 회의</span>
                        <p class="text-xs text-gray-500 mt-1">팀 회의 및 협업</p>
                    </button>
                    <button class="meeting-type-btn px-6 py-3 border-2 rounded-lg text-center transition-all" data-type="weekly">
                        <i class="ri-calendar-check-line text-2xl mb-1 block"></i>
                        <span class="font-medium">주간 회의</span>
                        <p class="text-xs text-gray-500 mt-1">정기 진행 보고</p>
                    </button>
                    <button class="meeting-type-btn px-6 py-3 border-2 rounded-lg text-center transition-all" data-type="planning">
                        <i class="ri-lightbulb-line text-2xl mb-1 block"></i>
                        <span class="font-medium">기획 회의</span>
                        <p class="text-xs text-gray-500 mt-1">전략 및 기획 논의</p>
                    </button>
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- File Upload -->
                <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-indigo-400 transition-colors">
                    <div class="text-center">
                        <i class="ri-upload-cloud-2-line text-5xl text-gray-400 mb-4"></i>
                        <input type="file" id="fileInput" accept="audio/*" class="hidden">
                        <label for="fileInput" class="cursor-pointer">
                            <p class="text-lg font-medium text-gray-700 mb-2">파일 업로드</p>
                            <p class="text-sm text-gray-500 mb-4">WAV, MP3, M4A 등 오디오 파일 지원</p>
                            <button onclick="document.getElementById('fileInput').click()" 
                                    class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors">
                                파일 선택
                            </button>
                        </label>
                        <div id="fileInfo" class="mt-4 text-sm text-gray-600 hidden">
                            <i class="ri-file-music-line mr-2"></i>
                            <span id="fileName"></span>
                        </div>
                    </div>
                </div>

                <!-- Real-time Recording -->
                <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-indigo-400 transition-colors">
                    <div class="text-center">
                        <i class="ri-mic-line text-5xl text-gray-400 mb-4" id="micIcon"></i>
                        <p class="text-lg font-medium text-gray-700 mb-2">실시간 녹음</p>
                        <p class="text-sm text-gray-500 mb-4">브라우저에서 바로 녹음하기</p>
                        <button id="recordBtn" 
                                class="px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors">
                            <i class="ri-record-circle-line mr-2"></i>녹음 시작
                        </button>
                        <div id="recordingTime" class="mt-4 text-sm font-medium text-red-600 hidden">
                            <i class="ri-timer-line mr-2"></i>
                            <span id="timeDisplay">00:00</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Participants Information Section -->
            <div id="participantsSection" class="mt-8">
                <h3 class="text-lg font-semibold text-gray-800 mb-2 flex items-center">
                    <i class="ri-team-line mr-2 text-indigo-500"></i>회의 참석자 정보 (선택사항)
                </h3>
                <p class="text-sm text-gray-600 mb-4">참석자 정보를 입력하면 AI가 더 정확한 분석을 제공합니다.</p>
                
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="ri-user-line mr-1 text-indigo-500"></i>리더/매니저
                        </label>
                        <input 
                            type="text" 
                            id="leaderName"
                            placeholder="예: 김팀장"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300 focus:border-transparent text-sm"
                        >
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="ri-user-heart-line mr-1 text-indigo-500"></i>팀원/참가자
                        </label>
                        <input 
                            type="text" 
                            id="memberName"
                            placeholder="예: 이대리"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300 focus:border-transparent text-sm"
                        >
                    </div>
                </div>
                
                <!-- 주간회의 빠른 참석자 추가 버튼 -->
                <div id="weeklyMeetingQuickAdd" class="mt-4 p-3 bg-indigo-50 rounded-lg border border-indigo-200" style="display: none;">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-indigo-700">
                            <i class="ri-group-line mr-1"></i>주간회의 참석자 빠른 추가
                        </span>
                        <button 
                            id="addWeeklyMembersBtn"
                            class="px-2 py-1 bg-indigo-500 text-white text-xs rounded hover:bg-indigo-600 transition-colors text-xs"
                        >
                            <i class="ri-add-line mr-1"></i>전체 추가
                        </button>
                    </div>
                    <p class="text-xs text-indigo-600">김동영, 지유진, 김지현, 박요한, 이민희, 최재준, 김경민, 양현빈, 장세현, 김준희</p>
                </div>
                
                <!-- 기획회의 빠른 참석자 추가 버튼 -->
                <div id="planningMeetingQuickAdd" class="mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200" style="display: none;">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-purple-700">
                            <i class="ri-lightbulb-line mr-1"></i>기획회의 참석자 빠른 추가
                        </span>
                        <button 
                            id="addPlanningMembersBtn"
                            class="px-2 py-1 bg-purple-500 text-white text-xs rounded hover:bg-purple-600 transition-colors text-xs"
                        >
                            <i class="ri-add-line mr-1"></i>전체 추가
                        </button>
                    </div>
                    <p class="text-xs text-purple-600">김동영, 지유진, 김지현, 이민희, 양현빈, 장세현, 김준희</p>
                </div>
            </div>

            <!-- Questions & Answers Section -->
            <div id="qaSection" class="mt-8">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2 flex items-center">
                        <i class="ri-question-answer-line mr-2 text-indigo-500"></i>추가 질문 & 답변 (선택사항)
                    </h3>
                    <p class="text-sm text-gray-600 mb-4">미팅에서 다뤄진 특정 질문과 답변이 있다면 추가해주세요. AI가 더 정확한 분석을 제공합니다.</p>
                    
                    <!-- 김준희 테스트 데이터 버튼 -->
                    <div class="flex justify-center space-x-3 mb-4">
                        <button id="loadTestQABtn" class="px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors flex items-center shadow-sm">
                            <i class="ri-test-tube-line mr-2"></i>김준희 테스트 데이터
                        </button>
                    </div>
                </div>
                
                <div id="qaContainer" class="space-y-2">
                    <!-- Q&A 쌍들이 여기에 동적으로 추가됩니다 -->
                </div>
                
                <div class="flex justify-center mt-4">
                    <button id="addQABtn" class="px-3 py-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-50 rounded-lg transition-colors flex items-center text-sm border border-dashed border-gray-300 hover:border-indigo-300">
                        <i class="ri-add-line mr-1"></i>질문/답변 추가
                    </button>
                </div>
            </div>

            <!-- Analyze Button -->
            <div class="mt-8 text-center space-x-4">
                <button id="analyzeBtn" 
                        class="px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-medium text-lg hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
                        disabled>
                    <i class="ri-sparkling-line mr-2"></i>AI 분석 시작
                </button>
            </div>
        </div>

        <!-- Progress Section -->
        <div id="progressSection" class="bg-white rounded-xl shadow-lg p-8 mb-8 hidden">
            <div class="flex items-center justify-center mb-4">
                <div class="animate-spin rounded-full h-12 w-12 border-4 border-indigo-600 border-t-transparent"></div>
            </div>
            <p class="text-center text-gray-700 font-medium">AI가 미팅 내용을 분석하고 있습니다...</p>
            <div class="mt-4 bg-gray-200 rounded-full h-2">
                <div id="progressBar" class="bg-gradient-to-r from-indigo-600 to-purple-600 h-2 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
            <p class="text-center text-sm text-gray-500 mt-2" id="progressText">STT 변환 중...</p>
        </div>

        <!-- Results Section -->
        <div id="resultsSection" class="hidden">
            <!-- Results Tabs -->
            <div class="bg-white rounded-xl shadow-lg mb-8">
                <div class="border-b border-gray-200">
                    <nav class="flex space-x-8 px-8 pt-6" aria-label="Tabs">
                        <button class="tab-btn active-tab pb-4 px-1 border-b-2 font-medium text-sm" data-tab="summary">
                            <i class="ri-file-list-3-line mr-2"></i>요약
                        </button>
                        <button class="tab-btn pb-4 px-1 border-b-2 font-medium text-sm" data-tab="feedback">
                            <i class="ri-feedback-line mr-2"></i>리더 피드백
                        </button>
                        <button class="tab-btn pb-4 px-1 border-b-2 font-medium text-sm" data-tab="qa">
                            <i class="ri-question-answer-line mr-2"></i>Q&A 분석
                        </button>
                        <button class="tab-btn pb-4 px-1 border-b-2 font-medium text-sm" data-tab="transcript">
                            <i class="ri-file-text-line mr-2"></i>전체 스크립트
                        </button>
                    </nav>
                </div>

                <!-- Tab Contents -->
                <div class="p-8">
                    <!-- Summary Tab -->
                    <div id="summaryTab" class="tab-content">
                        <h3 class="text-2xl font-bold text-gray-900 mb-6">미팅 요약</h3>
                        
                        <!-- Quick Review Section -->
                        <div class="bg-blue-50 border-l-4 border-blue-500 rounded-lg p-6 mb-6">
                            <h4 class="font-semibold text-blue-900 mb-4">
                                <i class="ri-flashlight-line mr-2"></i>핵심 리뷰
                            </h4>
                            <div class="space-y-4">
                                <div>
                                    <h5 class="font-medium text-blue-800 mb-2">주요 내용</h5>
                                    <p class="text-gray-700" id="quickReviewTakeaways">핵심 내용이 여기에 표시됩니다.</p>
                                </div>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <h5 class="font-medium text-blue-800 mb-2">결정사항</h5>
                                        <div class="text-gray-700" id="quickReviewDecisions">결정사항이 여기에 표시됩니다.</div>
                                    </div>
                                    <div>
                                        <h5 class="font-medium text-blue-800 mb-2">액션 아이템</h5>
                                        <div class="text-gray-700" id="quickReviewActions">액션 아이템이 여기에 표시됩니다.</div>
                                    </div>
                                </div>
                                <div>
                                    <h5 class="font-medium text-blue-800 mb-2">지원 요청 및 블로커</h5>
                                    <div class="text-gray-700" id="quickReviewSupport">지원 요청 사항이 여기에 표시됩니다.</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Detailed Discussion Section -->
                        <div class="bg-gray-50 rounded-lg p-6">
                            <h4 class="font-semibold text-gray-900 mb-4">
                                <i class="ri-file-text-line mr-2"></i>세부 상세 요약
                            </h4>
                            <div class="prose max-w-none">
                                <div id="detailedDiscussion">세부 요약이 여기에 표시됩니다.</div>
                            </div>
                        </div>
                    </div>

                    <!-- Feedback Tab -->
                    <div id="feedbackTab" class="tab-content hidden">
                        <h3 class="text-2xl font-bold text-gray-900 mb-6">리더를 위한 피드백</h3>
                        
                        <!-- 개선점 피드백 -->
                        <div class="space-y-6 mb-8">
                            <h4 class="text-lg font-semibold text-red-700 mb-4">
                                <i class="ri-lightbulb-line mr-2"></i>개선이 필요한 부분
                            </h4>
                            <div id="feedbackItems" class="space-y-6">
                                <!-- 피드백 아이템들이 여기에 동적으로 생성됩니다 -->
                            </div>
                        </div>
                        
                        <!-- 긍정적 측면 -->
                        <div class="bg-green-50 rounded-lg p-6">
                            <h4 class="font-semibold text-green-900 mb-4">
                                <i class="ri-star-line mr-2"></i>잘한 점
                            </h4>
                            <ul class="space-y-3" id="positiveAspects">
                                <li class="text-gray-700">• 긍정적인 피드백이 여기에 표시됩니다</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Q&A Tab -->
                    <div id="qaTab" class="tab-content hidden">
                        <h3 class="text-2xl font-bold text-gray-900 mb-6">질문별 답변 분석</h3>
                        <div class="space-y-4" id="qaContent">
                            <div class="border-l-4 border-indigo-500 pl-6 py-4">
                                <p class="font-semibold text-gray-900 mb-2">Q: 질문 내용</p>
                                <p class="text-gray-700">A: 답변 요약이 여기에 표시됩니다</p>
                            </div>
                        </div>
                    </div>

                    <!-- Transcript Tab -->
                    <div id="transcriptTab" class="tab-content hidden">
                        <h3 class="text-2xl font-bold text-gray-900 mb-6">전체 스크립트</h3>
                        <div class="bg-gray-50 rounded-lg p-6 max-h-96 overflow-y-auto">
                            <div class="space-y-4" id="transcriptContent">
                                <p class="text-gray-700">전체 대화 내용이 여기에 표시됩니다.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Export Buttons -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <div class="flex justify-between items-center">
                    <h3 class="text-lg font-semibold text-gray-900">분석 결과 공유하기</h3>
                    <div class="flex space-x-3">
                        <button id="copySummaryBtn" class="px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors">
                            <i class="ri-file-copy-line mr-2"></i>요약 복사
                        </button>
                        <button id="copyMarkdownBtn" class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors">
                            <i class="ri-markdown-line mr-2"></i>마크다운 복사
                        </button>
                        <button id="copyTranscriptBtn" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors">
                            <i class="ri-file-text-line mr-2"></i>전사 복사
                        </button>
                        <button id="newAnalysisBtn" class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors">
                            <i class="ri-add-line mr-2"></i>새 분석
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="api.js"></script>
    <script src="app.js"></script>
    <style>
        .active-tab {
            color: rgb(79 70 229);
            border-color: rgb(79 70 229);
        }
        .tab-btn:not(.active-tab) {
            color: rgb(107 114 128);
            border-color: transparent;
        }
        .tab-btn:hover:not(.active-tab) {
            color: rgb(55 65 81);
            border-color: rgb(229 231 235);
        }
        .active-type {
            background-color: rgb(79 70 229);
            color: white;
            border-color: rgb(79 70 229);
        }
        .active-type i {
            color: white;
        }
        .active-type .text-gray-500 {
            color: rgb(199 210 254);
        }
        .meeting-type-btn:not(.active-type) {
            background-color: white;
            color: rgb(55 65 81);
            border-color: rgb(229 231 235);
        }
        .meeting-type-btn:not(.active-type):hover {
            background-color: rgb(249 250 251);
            border-color: rgb(156 163 175);
        }
    </style>
</body>
</html>